<div class="search-container">
    <input type="text" placeholder="Search [City, State]" name="'search'" id = "userInput" #userInput> <!-- id = "userInput" -->
    <button class="btn btn-primary fa fa-search" (click)="sendInput(userInput.value)" type="button">Find</button> <!-- onclick = 'sendInput()' -->
    <button *ngIf="inputAddr != null" class="btn btn-primary fa fa-search" (click)="addToInput(userInput.value)" type="button">Add to Search</button>
</div>
<div *ngIf="inputAddr != null" style = "text-align:center">
  <h1>
    Showing "{{inputAddr}}"
  </h1>
</div>

<div class="search-container">
  <button class="btn btn-primary" (click)="threeAddressTest()">Test for Three Addresses at a Time</button>
</div>
<!--
<div class="search-container">
  <button class="btn btn-primary" (click)="reveal()">Show Me in Console</button>
</div>-->


<agm-map style="width: 500px; height: 500px" [latitude] = "39.8283" [longitude] = "-98.5795" [zoom] = "3">
    <agm-marker *ngFor="let location of locations; let i=index" [latitude]="location.lat" [longitude]="location.long"
      [label]="labelOptions">
      <agm-info-window>

        {{locations[i].city}}
        {{locations[i].crimeScore}}

      </agm-info-window>

    </agm-marker>
    <!--<agm-circle [radius]="radius" [fillColor]="'red'"></agm-circle>-->

    <agm-polygon [paths]="testPaths" [clickable]="false"></agm-polygon>

</agm-map>

<div *ngIf="inputAddr != null">
  <button *ngFor= "let location of locations; let i=index" class="btn btn-primary" (click)="zillowRoute(i)">Find Houses In {{location.city}}</button>
  <!--<a *ngFor="let link of zillowLinks; let i = index" href = {{link}}>[See houses in {{cityNameArray[i]}}]</a>-->
  <p>*Will take you off site to Zillow.com*</p>
</div>

<div *ngIf="inputAddr != null">
  <h1>
    The safe living score for this area is: <b>{{crimeScore}}</b>
  </h1>
  <ul>
    <li *ngFor="let city of cityNameArray; let i=index">{{city}}: {{crimeScoreArray[i]}}</li>
  </ul>
  <p> How do we get our safe living score? The current method of getting a score for each area is to take the ratio of the crime per
     capita of a city and the crime per capita of the state it resides in! </p>

 <!--<h1>
    County-wide Economic Stats
  </h1>
  <p>(2019 most recent data)</p>
  <ul>
    <li>Median Income: ${{censusMedIncome}}</li>
    <li>{{censusPovCount}} people in poverty</li>
    <li>{{censusPovRate}}% poverty rate</li>
</ul>-->
</div>
<!--
<div>
  <h1>
    Yearly Weather Statistics for {{county}} County, {{state}}
  </h1>
  <ul>
    <li>Average Mean Temperature (F): {{avgTemp}}   </li>
    <li>Average High Temperture (F): {{maxTemp}}        </li>
    <li>Average Low Temperature (F): {{minTemp}}        </li>
    <li>Average Wind Speed (mph): {{avgWind}}             </li>
    <li>Average Precipitation Totals (in): {{avgPrecip}} </li>
</ul>
</div>
-->

<!--  <agm-drawing-manager #drawing="agmDrawingManager" (circleComplete)="circleAdded($event)" [drawingMode]="'circle'" [circleOptions]="{fillColor:'red', radius: 150}">
</agm-drawing-manager> -->

<!-- The following tag displays the data from the crime api on the maps page, but will need an ori routed to the map component as a query parameter -->
<!-- <app-crimeapi></app-crimeapi> -->
<!--(circleComplete)="circleAdded($event)" before [drawingmode] -->
